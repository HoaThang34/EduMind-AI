{% extends "base.html" %}
{% block title %}Qu·∫£n L√Ω Lo·∫°i ƒêi·ªÉm C·ªông{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <h1 class="text-2xl font-semibold tracking-tight text-gray-800 mb-6">üéñÔ∏è Qu·∫£n L√Ω Lo·∫°i ƒêi·ªÉm C·ªông</h1>

    <div class="bg-white p-6 rounded-lg shadow-md mb-8">
        <h2 class="text-xl font-medium text-gray-900 mb-4">Th√™m Lo·∫°i ƒêi·ªÉm C·ªông M·ªõi</h2>

        <form method="POST" action="{{ url_for('manage_bonus_types') }}" class="space-y-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="md:col-span-2">
                    <label for="bonus_name" class="block text-sm font-medium text-gray-700">T√™n Lo·∫°i ƒêi·ªÉm C·ªông:</label>
                    <input type="text" name="bonus_name" id="bonus_name" placeholder="VD: Gi·∫£i Nh·∫•t HSG To√°n" required
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500">
                </div>
                <div>
                    <label for="points" class="block text-sm font-medium text-gray-700">ƒêi·ªÉm C·ªông:</label>
                    <input type="number" name="points" id="points" placeholder="VD: 20" required min="1" max="100"
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500">
                </div>
            </div>
            <div>
                <label for="description" class="block text-sm font-medium text-gray-700">M√¥ T·∫£ (T√πy ch·ªçn):</label>
                <input type="text" name="description" id="description"
                    placeholder="VD: H·ªçc sinh ƒë·∫°t gi·∫£i trong k·ª≥ thi HSG To√°n c·∫•p T·ªânh"
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500">
            </div>
            <div>
                <button type="submit"
                    class="w-full justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 font-medium transition">
                    <i class="fas fa-plus mr-2"></i>Th√™m V√†o H·ªá Th·ªëng
                </button>
            </div>
        </form>
    </div>

    <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <h2 class="text-xl font-medium text-gray-900 p-6 border-b">Danh S√°ch Lo·∫°i ƒêi·ªÉm C·ªông</h2>
        <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">T√™n Lo·∫°i ƒêi·ªÉm C·ªông</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ƒêi·ªÉm C·ªông</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">M√¥ T·∫£</th>
                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">H√†nh ƒê·ªông</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                {% for bonus in bonus_types %}
                <tr class="hover:bg-emerald-50 transition">
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                        <i class="fas fa-star text-yellow-400 mr-2"></i>{{ bonus.name }}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-emerald-600 font-bold">+{{ bonus.points_added }}
                        ƒëi·ªÉm</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ bonus.description or '-' }}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2">
                        <a href="{{ url_for('edit_bonus_type', bonus_id=bonus.id) }}"
                            class="text-indigo-600 hover:text-indigo-900"><i class="fas fa-edit mr-1"></i>S·ª≠a</a>

                        <form action="{{ url_for('delete_bonus_type', bonus_id=bonus.id) }}" method="POST"
                            class="inline"
                            onsubmit="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a lo·∫°i ƒëi·ªÉm c·ªông {{ bonus.name }}?');">
                            <button type="submit" class="text-red-600 hover:text-red-900"><i
                                    class="fas fa-trash mr-1"></i>X√≥a</button>
                        </form>
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="4" class="px-6 py-8 text-center text-gray-400">
                        <i class="fas fa-inbox text-4xl mb-2"></i>
                        <p>Ch∆∞a c√≥ lo·∫°i ƒëi·ªÉm c·ªông n√†o. H√£y th√™m m·ªõi!</p>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}